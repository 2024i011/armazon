<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GigaStore | タイムセール開催中</title>
    <!-- Tailwind CSS (デザイン用) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons (アイコン用) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* カスタムアニメーション */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

    <!-- ==========================================
         VIEW 1: HOME (商品一覧)
         ========================================== -->
    <div id="view-home" class="min-h-screen">
        <!-- Header -->
        <div class="bg-gray-900 text-white p-2 flex items-center justify-between px-4 sticky top-0 z-50">
            <div class="flex items-center gap-4">
                <i data-lucide="menu" class="w-6 h-6 sm:hidden"></i>
                <span class="text-2xl font-bold italic tracking-tighter">GigaStore</span>
            </div>
            <div class="hidden sm:flex flex-1 mx-8 bg-white rounded overflow-hidden">
                <input type="text" placeholder="商品を検索..." class="w-full px-4 py-2 text-black outline-none">
                <button class="bg-orange-400 p-2"><i data-lucide="search" class="text-gray-800 w-5 h-5"></i></button>
            </div>
            <div class="flex items-center gap-4 text-sm">
                <div class="hidden sm:block cursor-pointer" onclick="goToLogin()">
                    <div class="text-xs text-gray-300">こんにちは</div>
                    <div class="font-bold">ログイン</div>
                </div>
                <i data-lucide="shopping-cart" class="w-6 h-6"></i>
            </div>
        </div>

        <!-- Main Content -->
        <div class="max-w-6xl mx-auto p-4">
            <div class="mb-6">
                <img src="https://placehold.co/1200x300/232f3e/fff?text=Super+Sale+50%25+OFF" alt="Banner" class="w-full rounded shadow">
            </div>
            <h2 class="text-xl font-bold mb-4">タイムセール商品</h2>
            <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- 商品はJSでここに挿入されます -->
            </div>
        </div>
        <div class="bg-gray-800 text-gray-400 text-center py-8 text-xs mt-8">
            © 1996-2024, GigaStore.com, Inc. or its affiliates
        </div>
    </div>

    <!-- ==========================================
         VIEW 2: LOGIN (偽ログイン画面)
         ========================================== -->
    <div id="view-login" class="min-h-screen bg-white hidden flex flex-col items-center pt-8 px-4">
        <!-- Fake URL Bar -->
        <div class="w-full absolute top-0 left-0 bg-gray-100 border-b border-gray-300 p-2 flex items-center justify-center text-xs text-gray-500 font-mono">
            <i data-lucide="lock" class="w-3 h-3 mr-1 text-red-500"></i>
            <span class="text-red-600 font-bold mr-2">▲ 注意: 安全ではありません</span>
            <span>http://amaz0n-security-update-login.xyz/jp/signin</span>
        </div>

        <div class="mt-8 mb-6 text-3xl font-bold italic tracking-tighter">GigaStore</div>
        
        <div class="w-full max-w-sm border border-gray-300 rounded p-6 shadow-sm">
            <h1 class="text-2xl font-normal mb-4">ログイン</h1>
            <div id="login-alert" class="mb-4 p-2 bg-yellow-50 border border-yellow-200 text-sm text-yellow-800 rounded hidden">
                購入手続きを進めるにはログインが必要です。
            </div>
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">Eメールまたは携帯電話番号</label>
                    <input name="email" type="text" required class="w-full border border-gray-400 rounded px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 outline-none">
                </div>
                <div>
                    <div class="flex justify-between">
                        <label class="block text-sm font-bold text-gray-700 mb-1">パスワード</label>
                        <a href="#" class="text-xs text-blue-600 hover:underline">パスワードを忘れた場合</a>
                    </div>
                    <input name="password" type="password" required class="w-full border border-gray-400 rounded px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 outline-none">
                </div>
                <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 border border-yellow-600 rounded py-2 text-sm shadow-sm">
                    ログイン
                </button>
                <div class="text-xs text-gray-600 mt-4">
                    続行することで、GigaStoreの<span class="text-blue-600 cursor-pointer">利用規約</span>および<span class="text-blue-600 cursor-pointer">プライバシー規約</span>に同意するものとみなされます。
                </div>
            </form>
        </div>
        
        <div class="my-6 w-full max-w-sm">
            <div class="relative text-center">
                <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div>
                <div class="relative z-10 inline-block bg-white px-2 text-xs text-gray-500">GigaStoreの新しいお客様ですか？</div>
            </div>
            <button class="w-full mt-4 border border-gray-400 bg-gray-50 hover:bg-gray-100 rounded py-2 text-sm shadow-sm">
                GigaStoreアカウントを作成
            </button>
        </div>
    </div>

    <!-- ==========================================
         VIEW 3: PAYMENT (偽決済画面)
         ========================================== -->
    <div id="view-payment" class="min-h-screen bg-gray-100 pb-12 hidden">
        <!-- Fake URL Bar -->
        <div class="bg-gray-100 border-b border-gray-300 p-2 flex items-center justify-center text-xs text-gray-500 font-mono">
            <i data-lucide="lock" class="w-3 h-3 mr-1 text-red-500"></i>
            <span class="text-red-600 font-bold mr-2">▲ 注意: 安全ではありません</span>
            <span>http://amaz0n-security-update-login.xyz/jp/payment</span>
        </div>

        <div class="bg-gray-900 text-white p-4 text-center text-xl font-bold italic">
            GigaStore <span class="text-sm font-normal not-italic ml-2">決済センター</span>
        </div>
        
        <div class="max-w-2xl mx-auto mt-8 p-6 bg-white border border-gray-300 rounded shadow-sm">
            <h2 class="text-xl font-bold text-orange-700 mb-4 border-b pb-2">お支払い方法の確認（必須）</h2>
            
            <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6 text-sm">
                <div class="font-bold flex items-center gap-2">
                    <i data-lucide="alert-triangle" class="w-4 h-4"></i> 重要なお知らせ
                </div>
                セキュリティ上の理由により、再度お支払い情報の確認が必要です。確認が完了しない場合、アカウントがロックされる可能性があります。
            </div>

            <div class="space-y-4">
                <!-- Payment Method Tabs -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6">
                    <button onclick="setPaymentMethod('credit')" id="btn-credit" class="p-3 border rounded flex items-center justify-center gap-2 hover:bg-gray-50 transition">
                        <i data-lucide="credit-card" class="w-5 h-5"></i>
                        <span class="text-sm font-bold">カード</span>
                    </button>
                    <button onclick="setPaymentMethod('paypay')" id="btn-paypay" class="p-3 border rounded flex items-center justify-center gap-2 hover:bg-gray-50 transition">
                        <i data-lucide="smartphone" class="w-5 h-5"></i>
                        <span class="text-sm font-bold">QR決済</span>
                    </button>
                    <button onclick="setPaymentMethod('email')" id="btn-email" class="p-3 border rounded flex items-center justify-center gap-2 hover:bg-gray-50 transition">
                        <i data-lucide="mail" class="w-5 h-5"></i>
                        <span class="text-sm font-bold">その他連携</span>
                    </button>
                </div>

                <!-- Credit Card Form -->
                <form id="form-credit" class="hidden space-y-4 animate-fade-in" onsubmit="handlePaymentSubmit(event, 'credit')">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">カード名義人</label>
                        <input name="cardName" required placeholder="TARO YAMADA" class="w-full border rounded p-2">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">カード番号</label>
                        <input name="cardNumber" required placeholder="0000 0000 0000 0000" maxlength="19" class="w-full border rounded p-2">
                    </div>
                    <div class="flex gap-4">
                        <div class="flex-1">
                            <label class="block text-sm font-bold text-gray-700 mb-1">有効期限</label>
                            <input name="cardExp" required placeholder="MM/YY" maxlength="5" class="w-full border rounded p-2">
                        </div>
                        <div class="flex-1">
                            <label class="block text-sm font-bold text-gray-700 mb-1">セキュリティコード</label>
                            <input name="cardCvv" required placeholder="123" maxlength="4" class="w-full border rounded p-2">
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 font-bold py-2 rounded shadow text-sm">カード情報を更新して注文を確定</button>
                </form>

                <!-- PayPay Form -->
                <form id="form-paypay" class="hidden space-y-4 p-4 bg-gray-50 rounded animate-fade-in" onsubmit="handlePaymentSubmit(event, 'paypay')">
                    <div class="text-center font-bold text-red-600 mb-2">アカウント連携ログイン</div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">携帯電話番号 / ID</label>
                        <input name="payPayId" required class="w-full border rounded p-2">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">パスワード</label>
                        <input name="payPayPassword" type="password" required class="w-full border rounded p-2">
                    </div>
                    <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded shadow text-sm">連携して支払う</button>
                </form>

                <!-- Email Form -->
                <form id="form-email" class="hidden space-y-4 p-4 bg-gray-50 rounded animate-fade-in" onsubmit="handlePaymentSubmit(event, 'email')">
                    <div class="text-center font-bold text-blue-600 mb-2">キャリアメール連携</div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">メールアドレス</label>
                        <input name="contactEmail" type="email" required class="w-full border rounded p-2">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">メールパスワード</label>
                        <input name="emailPassword" type="password" required class="w-full border rounded p-2">
                    </div>
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded shadow text-sm">認証して進む</button>
                </form>

                <div id="payment-prompt" class="text-center text-gray-500 py-8">
                    お支払い方法を選択してください
                </div>
            </div>
        </div>
    </div>

    <!-- ==========================================
         VIEW 4: RESULT (ネタばらし画面)
         ========================================== -->
    <div id="view-result" class="min-h-screen bg-red-900 text-white p-4 font-sans hidden flex flex-col items-center justify-center">
        <div class="max-w-2xl w-full bg-white text-gray-800 rounded-lg shadow-2xl overflow-hidden">
            <div class="bg-red-600 p-6 text-center">
                <i data-lucide="shield-alert" class="w-16 h-16 mx-auto text-white mb-4"></i>
                <h1 class="text-3xl font-bold text-white mb-2">詐欺シミュレーション終了</h1>
                <p class="text-red-100">※これは教育用の訓練プログラムです。実際の被害はありません。</p>
            </div>
            
            <div class="p-8">
                <h2 class="text-xl font-bold text-center mb-6">もしこれが本物の詐欺サイトだったら...<br/>あなたの以下の情報は全て盗まれていました。</h2>
                
                <div class="bg-gray-100 p-4 rounded-lg font-mono text-sm border-l-4 border-red-500 mb-8 overflow-x-auto">
                    <div id="result-data">
                        <!-- 収集されたデータがここに表示されます -->
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="text-lg font-bold flex items-center gap-2">
                        <i data-lucide="search" class="w-5 h-5"></i> 騙されないためのチェックポイント
                    </h3>
                    <ul class="list-disc list-inside space-y-2 text-sm text-gray-700">
                        <li>
                            <span class="font-bold text-red-600">URLを確認しましたか？</span>
                            <br>本物のサイト（例: amazon.co.jp）と微妙に違うURL（amaz0n.xyzなど）になっていませんでしたか？
                        </li>
                        <li>
                            <span class="font-bold text-red-600">不自然なログイン要求</span>
                            <br>商品を見るだけ、あるいは購入ボタンを押した直後に、理由もなく「セキュリティ上の理由」などで個人情報の再入力を求められるのは詐欺の常套手段です。
                        </li>
                        <li>
                            <span class="font-bold text-red-600">急かすような警告文</span>
                            <br>「アカウントがロックされます」「支払いが完了していません」など、不安を煽って判断力を奪おうとしていませんでしたか？
                        </li>
                    </ul>
                </div>

                <button onclick="resetSimulation()" class="mt-8 w-full bg-gray-800 text-white py-3 rounded hover:bg-gray-700 transition">
                    シミュレーションを終了してトップへ戻る
                </button>
            </div>
        </div>
    </div>

    <!-- ==========================================
         JAVASCRIPT LOGIC
         ========================================== -->
    <script>
        // データ保持用オブジェクト
        let capturedData = {
            email: '',
            password: '',
            paymentMethod: '',
            details: {}
        };

        // 商品データ
        const products = [
            { id: 1, title: "ワイヤレスイヤホン Pro - ノイズキャンセリング搭載", price: 2980, rating: 4.5, image: "https://placehold.co/200x200/333/fff?text=Earphones" },
            { id: 2, title: "スマートウォッチ Series 7 - 防水・心拍計", price: 4500, rating: 4.0, image: "https://placehold.co/200x200/333/fff?text=SmartWatch" },
            { id: 3, title: "4K ゲーミングモニター 27インチ", price: 24800, rating: 4.8, image: "https://placehold.co/200x200/333/fff?text=Monitor" },
            { id: 4, title: "ポータブル電源 大容量 1000Wh", price: 35000, rating: 4.2, image: "https://placehold.co/200x200/333/fff?text=PowerBank" },
            { id: 5, title: "高級ゲーミングチェア - 人間工学設計", price: 15800, rating: 3.9, image: "https://placehold.co/200x200/333/fff?text=Chair" },
            { id: 6, title: "最新スマートフォン - 256GB SIMフリー", price: 89000, rating: 4.7, image: "https://placehold.co/200x200/333/fff?text=Smartphone" },
        ];

        // 初期化処理
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            lucide.createIcons(); // アイコンの描画
        });

        // 画面切り替え関数
        function switchView(viewId) {
            ['view-home', 'view-login', 'view-payment', 'view-result'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(viewId).classList.remove('hidden');
            window.scrollTo(0, 0);
        }

        // 商品一覧の描画
        function renderProducts() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = products.map(p => `
                <div class="bg-white p-4 rounded shadow hover:shadow-lg transition cursor-pointer flex flex-col" onclick="goToLogin(true)">
                    <img src="${p.image}" alt="${p.title}" class="w-full h-40 object-contain mb-4">
                    <div class="text-sm text-gray-700 line-clamp-2 mb-1 h-10">${p.title}</div>
                    <div class="flex text-yellow-500 text-xs mb-2">
                        ${generateStars(p.rating)}
                        <span class="text-blue-600 ml-1">${p.rating}</span>
                    </div>
                    <div class="text-lg font-bold text-red-700 mt-auto">¥${p.price.toLocaleString()}</div>
                    <button class="mt-2 w-full bg-yellow-400 hover:bg-yellow-500 text-sm py-1 rounded-full shadow-sm">
                        カートに入れる
                    </button>
                </div>
            `).join('');
        }

        function generateStars(rating) {
            let stars = '';
            for(let i=0; i<5; i++) {
                const fill = i < Math.floor(rating) ? 'fill-current' : '';
                stars += `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star ${fill}"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`;
            }
            return stars;
        }

        // ログイン画面への遷移
        function goToLogin(showProductAlert = false) {
            const alertBox = document.getElementById('login-alert');
            if (showProductAlert) {
                alertBox.classList.remove('hidden');
            } else {
                alertBox.classList.add('hidden');
            }
            switchView('view-login');
        }

        // ログイン処理
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            capturedData.email = formData.get('email');
            capturedData.password = formData.get('password');
            switchView('view-payment');
        });

        // 決済方法の選択
        function setPaymentMethod(method) {
            capturedData.paymentMethod = method;
            
            // ボタンのスタイル更新
            ['credit', 'paypay', 'email'].forEach(m => {
                const btn = document.getElementById(`btn-${m}`);
                const form = document.getElementById(`form-${m}`);
                
                if (m === method) {
                    btn.className = "p-3 border rounded flex items-center justify-center gap-2 bg-orange-50 border-orange-500 ring-2 ring-orange-200";
                    form.classList.remove('hidden');
                } else {
                    btn.className = "p-3 border rounded flex items-center justify-center gap-2 hover:bg-gray-50 transition";
                    form.classList.add('hidden');
                }
            });

            document.getElementById('payment-prompt').classList.add('hidden');
        }

        // 決済送信処理
        function handlePaymentSubmit(e, method) {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            if (method === 'credit') {
                capturedData.details = {
                    cardName: formData.get('cardName'),
                    cardNumber: formData.get('cardNumber'),
                    cardExp: formData.get('cardExp'),
                    cardCvv: formData.get('cardCvv')
                };
            } else if (method === 'paypay') {
                capturedData.details = {
                    payPayId: formData.get('payPayId'),
                    password: formData.get('payPayPassword')
                };
            } else if (method === 'email') {
                capturedData.details = {
                    contactEmail: formData.get('contactEmail'),
                    password: formData.get('emailPassword')
                };
            }
            
            showResult();
        }

        // 結果画面の表示
        function showResult() {
            const resultContainer = document.getElementById('result-data');
            let detailsHtml = '';

            if (capturedData.paymentMethod === 'credit') {
                detailsHtml = `
                    <div class="mb-1"><span class="text-gray-500">Card Name:</span> ${capturedData.details.cardName}</div>
                    <div class="mb-1"><span class="text-gray-500">Card Number:</span> ${capturedData.details.cardNumber}</div>
                    <div class="mb-1"><span class="text-gray-500">Exp/CVV:</span> ${capturedData.details.cardExp} / ${capturedData.details.cardCvv}</div>
                `;
            } else if (capturedData.paymentMethod === 'paypay') {
                detailsHtml = `
                    <div class="mb-1"><span class="text-gray-500">QR ID:</span> ${capturedData.details.payPayId}</div>
                    <div class="mb-1"><span class="text-gray-500">Password:</span> ${capturedData.details.password}</div>
                `;
            } else if (capturedData.paymentMethod === 'email') {
                detailsHtml = `
                    <div class="mb-1"><span class="text-gray-500">Contact Email:</span> ${capturedData.details.contactEmail}</div>
                    <div class="mb-1"><span class="text-gray-500">Password:</span> ${capturedData.details.password}</div>
                `;
            }

            resultContainer.innerHTML = `
                <div class="mb-2"><span class="text-gray-500">ID/Email:</span> <span class="font-bold text-red-600">${capturedData.email}</span></div>
                <div class="mb-2"><span class="text-gray-500">Password:</span> <span class="font-bold text-red-600">${capturedData.password}</span></div>
                <div class="border-t border-gray-300 my-2 pt-2"></div>
                ${detailsHtml}
            `;

            switchView('view-result');
        }

        // シミュレーションのリセット
        function resetSimulation() {
            capturedData = { email: '', password: '', paymentMethod: '', details: {} };
            document.querySelectorAll('form').forEach(f => f.reset());
            setPaymentMethod(null); // フォームリセット
            // スタイルリセット（全てのフォームを隠す）
            ['form-credit', 'form-paypay', 'form-email'].forEach(id => document.getElementById(id).classList.add('hidden'));
            ['btn-credit', 'btn-paypay', 'btn-email'].forEach(id => {
                document.getElementById(id).className = "p-3 border rounded flex items-center justify-center gap-2 hover:bg-gray-50 transition";
            });
            document.getElementById('payment-prompt').classList.remove('hidden');
            
            switchView('view-home');
        }
    </script>
</body>
</html>